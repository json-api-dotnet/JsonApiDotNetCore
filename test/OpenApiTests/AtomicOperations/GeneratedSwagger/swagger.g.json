{
  "openapi": "3.0.4",
  "info": {
    "title": "OpenApiTests",
    "version": "1.0"
  },
  "servers": [
    {
      "url": "http://localhost"
    }
  ],
  "paths": {
    "/operations": {
      "post": {
        "tags": [
          "operations"
        ],
        "summary": "Performs multiple mutations in a linear and atomic manner.",
        "operationId": "postOperations",
        "requestBody": {
          "description": "An array of mutation operations. For syntax, see the [Atomic Operations documentation](https://jsonapi.org/ext/atomic/).",
          "content": {
            "application/vnd.api+json; ext=atomic; ext=openapi": {
              "schema": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/operationsRequestDocument"
                  }
                ]
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "All operations were successfully applied, which resulted in additional changes.",
            "content": {
              "application/vnd.api+json; ext=atomic; ext=openapi": {
                "schema": {
                  "$ref": "#/components/schemas/operationsResponseDocument"
                }
              }
            }
          },
          "204": {
            "description": "All operations were successfully applied, which did not result in additional changes."
          },
          "400": {
            "description": "The request body is missing or malformed.",
            "content": {
              "application/vnd.api+json; ext=atomic; ext=openapi": {
                "schema": {
                  "$ref": "#/components/schemas/errorResponseDocument"
                }
              }
            }
          },
          "403": {
            "description": "An operation is not accessible or a client-generated ID is used.",
            "content": {
              "application/vnd.api+json; ext=atomic; ext=openapi": {
                "schema": {
                  "$ref": "#/components/schemas/errorResponseDocument"
                }
              }
            }
          },
          "404": {
            "description": "A resource or a related resource does not exist.",
            "content": {
              "application/vnd.api+json; ext=atomic; ext=openapi": {
                "schema": {
                  "$ref": "#/components/schemas/errorResponseDocument"
                }
              }
            }
          },
          "409": {
            "description": "The request body contains conflicting information or another resource with the same ID already exists.",
            "content": {
              "application/vnd.api+json; ext=atomic; ext=openapi": {
                "schema": {
                  "$ref": "#/components/schemas/errorResponseDocument"
                }
              }
            }
          },
          "422": {
            "description": "Validation of the request body failed.",
            "content": {
              "application/vnd.api+json; ext=atomic; ext=openapi": {
                "schema": {
                  "$ref": "#/components/schemas/errorResponseDocument"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "addOperationCode": {
        "enum": [
          "add"
        ],
        "type": "string"
      },
      "addToCourseEnrollmentsRelationshipOperation": {
        "allOf": [
          {
            "$ref": "#/components/schemas/atomicOperation"
          },
          {
            "required": [
              "data",
              "op",
              "ref"
            ],
            "type": "object",
            "properties": {
              "op": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/addOperationCode"
                  }
                ]
              },
              "ref": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/courseEnrollmentsRelationshipIdentifier"
                  }
                ]
              },
              "data": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/enrollmentIdentifierInRequest"
                }
              }
            },
            "additionalProperties": false
          }
        ],
        "additionalProperties": false
      },
      "addToCourseTaughtByRelationshipOperation": {
        "allOf": [
          {
            "$ref": "#/components/schemas/atomicOperation"
          },
          {
            "required": [
              "data",
              "op",
              "ref"
            ],
            "type": "object",
            "properties": {
              "op": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/addOperationCode"
                  }
                ]
              },
              "ref": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/courseTaughtByRelationshipIdentifier"
                  }
                ]
              },
              "data": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/teacherIdentifierInRequest"
                }
              }
            },
            "additionalProperties": false
          }
        ],
        "additionalProperties": false
      },
      "addToStudentEnrollmentsRelationshipOperation": {
        "allOf": [
          {
            "$ref": "#/components/schemas/atomicOperation"
          },
          {
            "required": [
              "data",
              "op",
              "ref"
            ],
            "type": "object",
            "properties": {
              "op": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/addOperationCode"
                  }
                ]
              },
              "ref": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/studentEnrollmentsRelationshipIdentifier"
                  }
                ]
              },
              "data": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/enrollmentIdentifierInRequest"
                }
              }
            },
            "additionalProperties": false
          }
        ],
        "additionalProperties": false
      },
      "addToTeacherMentorsRelationshipOperation": {
        "allOf": [
          {
            "$ref": "#/components/schemas/atomicOperation"
          },
          {
            "required": [
              "data",
              "op",
              "ref"
            ],
            "type": "object",
            "properties": {
              "op": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/addOperationCode"
                  }
                ]
              },
              "ref": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/teacherMentorsRelationshipIdentifier"
                  }
                ]
              },
              "data": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/studentIdentifierInRequest"
                }
              }
            },
            "additionalProperties": false
          }
        ],
        "additionalProperties": false
      },
      "addToTeacherTeachesRelationshipOperation": {
        "allOf": [
          {
            "$ref": "#/components/schemas/atomicOperation"
          },
          {
            "required": [
              "data",
              "op",
              "ref"
            ],
            "type": "object",
            "properties": {
              "op": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/addOperationCode"
                  }
                ]
              },
              "ref": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/teacherTeachesRelationshipIdentifier"
                  }
                ]
              },
              "data": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/courseIdentifierInRequest"
                }
              }
            },
            "additionalProperties": false
          }
        ],
        "additionalProperties": false
      },
      "atomicOperation": {
        "required": [
          "openapi:discriminator"
        ],
        "type": "object",
        "properties": {
          "openapi:discriminator": {
            "type": "string"
          },
          "meta": {
            "allOf": [
              {
                "$ref": "#/components/schemas/meta"
              }
            ]
          }
        },
        "additionalProperties": false,
        "discriminator": {
          "propertyName": "openapi:discriminator",
          "mapping": {
            "addCourse": "#/components/schemas/createCourseOperation",
            "addEnrollment": "#/components/schemas/createEnrollmentOperation",
            "addStudent": "#/components/schemas/createStudentOperation",
            "addTeacher": "#/components/schemas/createTeacherOperation",
            "addToCourseEnrollments": "#/components/schemas/addToCourseEnrollmentsRelationshipOperation",
            "addToCourseTaughtBy": "#/components/schemas/addToCourseTaughtByRelationshipOperation",
            "addToStudentEnrollments": "#/components/schemas/addToStudentEnrollmentsRelationshipOperation",
            "addToTeacherMentors": "#/components/schemas/addToTeacherMentorsRelationshipOperation",
            "addToTeacherTeaches": "#/components/schemas/addToTeacherTeachesRelationshipOperation",
            "removeCourse": "#/components/schemas/deleteCourseOperation",
            "removeEnrollment": "#/components/schemas/deleteEnrollmentOperation",
            "removeFromStudentEnrollments": "#/components/schemas/removeFromStudentEnrollmentsRelationshipOperation",
            "removeFromTeacherMentors": "#/components/schemas/removeFromTeacherMentorsRelationshipOperation",
            "removeFromTeacherTeaches": "#/components/schemas/removeFromTeacherTeachesRelationshipOperation",
            "removeTeacher": "#/components/schemas/deleteTeacherOperation",
            "updateCourse": "#/components/schemas/updateCourseOperation",
            "updateCourseEnrollments": "#/components/schemas/updateCourseEnrollmentsRelationshipOperation",
            "updateEnrollment": "#/components/schemas/updateEnrollmentOperation",
            "updateEnrollmentCourse": "#/components/schemas/updateEnrollmentCourseRelationshipOperation",
            "updateEnrollmentStudent": "#/components/schemas/updateEnrollmentStudentRelationshipOperation",
            "updateStudent": "#/components/schemas/updateStudentOperation",
            "updateStudentEnrollments": "#/components/schemas/updateStudentEnrollmentsRelationshipOperation",
            "updateStudentMentor": "#/components/schemas/updateStudentMentorRelationshipOperation",
            "updateTeacher": "#/components/schemas/updateTeacherOperation",
            "updateTeacherMentors": "#/components/schemas/updateTeacherMentorsRelationshipOperation",
            "updateTeacherTeaches": "#/components/schemas/updateTeacherTeachesRelationshipOperation"
          }
        },
        "x-abstract": true
      },
      "atomicResult": {
        "type": "object",
        "properties": {
          "data": {
            "allOf": [
              {
                "$ref": "#/components/schemas/resourceInResponse"
              }
            ]
          },
          "meta": {
            "allOf": [
              {
                "$ref": "#/components/schemas/meta"
              }
            ]
          }
        },
        "additionalProperties": false
      },
      "attributesInCourseResponse": {
        "allOf": [
          {
            "$ref": "#/components/schemas/attributesInResponse"
          },
          {
            "type": "object",
            "properties": {
              "subject": {
                "type": "string"
              },
              "description": {
                "type": "string",
                "nullable": true
              }
            },
            "additionalProperties": false
          }
        ],
        "additionalProperties": false
      },
      "attributesInCreateCourseRequest": {
        "allOf": [
          {
            "$ref": "#/components/schemas/attributesInCreateRequest"
          },
          {
            "required": [
              "subject"
            ],
            "type": "object",
            "properties": {
              "subject": {
                "type": "string"
              },
              "description": {
                "type": "string",
                "nullable": true
              }
            },
            "additionalProperties": false
          }
        ],
        "additionalProperties": false
      },
      "attributesInCreateEnrollmentRequest": {
        "allOf": [
          {
            "$ref": "#/components/schemas/attributesInCreateRequest"
          },
          {
            "type": "object",
            "properties": {
              "enrolledAt": {
                "type": "string",
                "format": "date"
              },
              "graduatedAt": {
                "type": "string",
                "format": "date",
                "nullable": true
              }
            },
            "additionalProperties": false
          }
        ],
        "additionalProperties": false
      },
      "attributesInCreateRequest": {
        "required": [
          "openapi:discriminator"
        ],
        "type": "object",
        "properties": {
          "openapi:discriminator": {
            "allOf": [
              {
                "$ref": "#/components/schemas/resourceType"
              }
            ]
          }
        },
        "additionalProperties": false,
        "discriminator": {
          "propertyName": "openapi:discriminator",
          "mapping": {
            "courses": "#/components/schemas/attributesInCreateCourseRequest",
            "enrollments": "#/components/schemas/attributesInCreateEnrollmentRequest",
            "students": "#/components/schemas/attributesInCreateStudentRequest",
            "teachers": "#/components/schemas/attributesInCreateTeacherRequest"
          }
        },
        "x-abstract": true
      },
      "attributesInCreateStudentRequest": {
        "allOf": [
          {
            "$ref": "#/components/schemas/attributesInCreateRequest"
          },
          {
            "required": [
              "name"
            ],
            "type": "object",
            "properties": {
              "name": {
                "type": "string"
              },
              "emailAddress": {
                "type": "string",
                "nullable": true
              }
            },
            "additionalProperties": false
          }
        ],
        "additionalProperties": false
      },
      "attributesInCreateTeacherRequest": {
        "allOf": [
          {
            "$ref": "#/components/schemas/attributesInCreateRequest"
          },
          {
            "required": [
              "name"
            ],
            "type": "object",
            "properties": {
              "name": {
                "type": "string"
              },
              "emailAddress": {
                "type": "string",
                "nullable": true
              }
            },
            "additionalProperties": false
          }
        ],
        "additionalProperties": false
      },
      "attributesInEnrollmentResponse": {
        "allOf": [
          {
            "$ref": "#/components/schemas/attributesInResponse"
          },
          {
            "type": "object",
            "properties": {
              "enrolledAt": {
                "type": "string",
                "format": "date"
              },
              "graduatedAt": {
                "type": "string",
                "format": "date",
                "nullable": true
              },
              "hasGraduated": {
                "type": "boolean",
                "readOnly": true
              }
            },
            "additionalProperties": false
          }
        ],
        "additionalProperties": false
      },
      "attributesInResponse": {
        "required": [
          "openapi:discriminator"
        ],
        "type": "object",
        "properties": {
          "openapi:discriminator": {
            "allOf": [
              {
                "$ref": "#/components/schemas/resourceType"
              }
            ]
          }
        },
        "additionalProperties": false,
        "discriminator": {
          "propertyName": "openapi:discriminator",
          "mapping": {
            "courses": "#/components/schemas/attributesInCourseResponse",
            "enrollments": "#/components/schemas/attributesInEnrollmentResponse",
            "students": "#/components/schemas/attributesInStudentResponse",
            "teachers": "#/components/schemas/attributesInTeacherResponse"
          }
        },
        "x-abstract": true
      },
      "attributesInStudentResponse": {
        "allOf": [
          {
            "$ref": "#/components/schemas/attributesInResponse"
          },
          {
            "type": "object",
            "properties": {
              "name": {
                "type": "string"
              },
              "emailAddress": {
                "type": "string",
                "nullable": true
              }
            },
            "additionalProperties": false
          }
        ],
        "additionalProperties": false
      },
      "attributesInTeacherResponse": {
        "allOf": [
          {
            "$ref": "#/components/schemas/attributesInResponse"
          },
          {
            "type": "object",
            "properties": {
              "name": {
                "type": "string"
              },
              "emailAddress": {
                "type": "string",
                "nullable": true
              }
            },
            "additionalProperties": false
          }
        ],
        "additionalProperties": false
      },
      "attributesInUpdateCourseRequest": {
        "allOf": [
          {
            "$ref": "#/components/schemas/attributesInUpdateRequest"
          },
          {
            "type": "object",
            "properties": {
              "subject": {
                "type": "string"
              },
              "description": {
                "type": "string",
                "nullable": true
              }
            },
            "additionalProperties": false
          }
        ],
        "additionalProperties": false
      },
      "attributesInUpdateEnrollmentRequest": {
        "allOf": [
          {
            "$ref": "#/components/schemas/attributesInUpdateRequest"
          },
          {
            "type": "object",
            "properties": {
              "enrolledAt": {
                "type": "string",
                "format": "date"
              },
              "graduatedAt": {
                "type": "string",
                "format": "date",
                "nullable": true
              }
            },
            "additionalProperties": false
          }
        ],
        "additionalProperties": false
      },
      "attributesInUpdateRequest": {
        "required": [
          "openapi:discriminator"
        ],
        "type": "object",
        "properties": {
          "openapi:discriminator": {
            "allOf": [
              {
                "$ref": "#/components/schemas/resourceType"
              }
            ]
          }
        },
        "additionalProperties": false,
        "discriminator": {
          "propertyName": "openapi:discriminator",
          "mapping": {
            "courses": "#/components/schemas/attributesInUpdateCourseRequest",
            "enrollments": "#/components/schemas/attributesInUpdateEnrollmentRequest",
            "students": "#/components/schemas/attributesInUpdateStudentRequest",
            "teachers": "#/components/schemas/attributesInUpdateTeacherRequest"
          }
        },
        "x-abstract": true
      },
      "attributesInUpdateStudentRequest": {
        "allOf": [
          {
            "$ref": "#/components/schemas/attributesInUpdateRequest"
          },
          {
            "type": "object",
            "properties": {
              "name": {
                "type": "string"
              },
              "emailAddress": {
                "type": "string",
                "nullable": true
              }
            },
            "additionalProperties": false
          }
        ],
        "additionalProperties": false
      },
      "attributesInUpdateTeacherRequest": {
        "allOf": [
          {
            "$ref": "#/components/schemas/attributesInUpdateRequest"
          },
          {
            "type": "object",
            "properties": {
              "name": {
                "type": "string"
              },
              "emailAddress": {
                "type": "string",
                "nullable": true
              }
            },
            "additionalProperties": false
          }
        ],
        "additionalProperties": false
      },
      "courseEnrollmentsRelationshipIdentifier": {
        "required": [
          "relationship",
          "type"
        ],
        "type": "object",
        "properties": {
          "type": {
            "allOf": [
              {
                "$ref": "#/components/schemas/courseResourceType"
              }
            ]
          },
          "id": {
            "minLength": 1,
            "type": "string",
            "format": "uuid"
          },
          "lid": {
            "minLength": 1,
            "type": "string"
          },
          "relationship": {
            "allOf": [
              {
                "$ref": "#/components/schemas/courseEnrollmentsRelationshipName"
              }
            ]
          }
        },
        "additionalProperties": false
      },
      "courseEnrollmentsRelationshipName": {
        "enum": [
          "enrollments"
        ],
        "type": "string"
      },
      "courseIdentifierInRequest": {
        "type": "object",
        "allOf": [
          {
            "$ref": "#/components/schemas/identifierInRequest"
          },
          {
            "type": "object",
            "properties": {
              "id": {
                "minLength": 1,
                "type": "string",
                "format": "uuid"
              },
              "lid": {
                "minLength": 1,
                "type": "string"
              }
            },
            "additionalProperties": false
          }
        ],
        "additionalProperties": false
      },
      "courseIdentifierInResponse": {
        "required": [
          "id",
          "type"
        ],
        "type": "object",
        "properties": {
          "type": {
            "allOf": [
              {
                "$ref": "#/components/schemas/courseResourceType"
              }
            ]
          },
          "id": {
            "minLength": 1,
            "type": "string",
            "format": "uuid"
          },
          "meta": {
            "allOf": [
              {
                "$ref": "#/components/schemas/meta"
              }
            ]
          }
        },
        "additionalProperties": false
      },
      "courseResourceType": {
        "enum": [
          "courses"
        ],
        "type": "string"
      },
      "courseTaughtByRelationshipIdentifier": {
        "required": [
          "relationship",
          "type"
        ],
        "type": "object",
        "properties": {
          "type": {
            "allOf": [
              {
                "$ref": "#/components/schemas/courseResourceType"
              }
            ]
          },
          "id": {
            "minLength": 1,
            "type": "string",
            "format": "uuid"
          },
          "lid": {
            "minLength": 1,
            "type": "string"
          },
          "relationship": {
            "allOf": [
              {
                "$ref": "#/components/schemas/courseTaughtByRelationshipName"
              }
            ]
          }
        },
        "additionalProperties": false
      },
      "courseTaughtByRelationshipName": {
        "enum": [
          "taughtBy"
        ],
        "type": "string"
      },
      "createCourseOperation": {
        "allOf": [
          {
            "$ref": "#/components/schemas/atomicOperation"
          },
          {
            "required": [
              "data",
              "op"
            ],
            "type": "object",
            "properties": {
              "op": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/addOperationCode"
                  }
                ]
              },
              "data": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/dataInCreateCourseRequest"
                  }
                ]
              }
            },
            "additionalProperties": false
          }
        ],
        "additionalProperties": false
      },
      "createEnrollmentOperation": {
        "allOf": [
          {
            "$ref": "#/components/schemas/atomicOperation"
          },
          {
            "required": [
              "data",
              "op"
            ],
            "type": "object",
            "properties": {
              "op": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/addOperationCode"
                  }
                ]
              },
              "data": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/dataInCreateEnrollmentRequest"
                  }
                ]
              }
            },
            "additionalProperties": false
          }
        ],
        "additionalProperties": false
      },
      "createStudentOperation": {
        "allOf": [
          {
            "$ref": "#/components/schemas/atomicOperation"
          },
          {
            "required": [
              "data",
              "op"
            ],
            "type": "object",
            "properties": {
              "op": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/addOperationCode"
                  }
                ]
              },
              "data": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/dataInCreateStudentRequest"
                  }
                ]
              }
            },
            "additionalProperties": false
          }
        ],
        "additionalProperties": false
      },
      "createTeacherOperation": {
        "allOf": [
          {
            "$ref": "#/components/schemas/atomicOperation"
          },
          {
            "required": [
              "data",
              "op"
            ],
            "type": "object",
            "properties": {
              "op": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/addOperationCode"
                  }
                ]
              },
              "data": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/dataInCreateTeacherRequest"
                  }
                ]
              }
            },
            "additionalProperties": false
          }
        ],
        "additionalProperties": false
      },
      "dataInCourseResponse": {
        "allOf": [
          {
            "$ref": "#/components/schemas/resourceInResponse"
          },
          {
            "required": [
              "id"
            ],
            "type": "object",
            "properties": {
              "id": {
                "minLength": 1,
                "type": "string",
                "format": "uuid"
              },
              "attributes": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/attributesInCourseResponse"
                  }
                ]
              },
              "relationships": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/relationshipsInCourseResponse"
                  }
                ]
              },
              "links": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/resourceLinks"
                  }
                ]
              }
            },
            "additionalProperties": false
          }
        ],
        "additionalProperties": false
      },
      "dataInCreateCourseRequest": {
        "type": "object",
        "allOf": [
          {
            "$ref": "#/components/schemas/resourceInCreateRequest"
          },
          {
            "required": [
              "id"
            ],
            "type": "object",
            "properties": {
              "id": {
                "minLength": 1,
                "type": "string",
                "format": "uuid"
              },
              "attributes": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/attributesInCreateCourseRequest"
                  }
                ]
              },
              "relationships": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/relationshipsInCreateCourseRequest"
                  }
                ]
              }
            },
            "additionalProperties": false
          }
        ],
        "additionalProperties": false
      },
      "dataInCreateEnrollmentRequest": {
        "type": "object",
        "allOf": [
          {
            "$ref": "#/components/schemas/resourceInCreateRequest"
          },
          {
            "type": "object",
            "properties": {
              "lid": {
                "minLength": 1,
                "type": "string"
              },
              "attributes": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/attributesInCreateEnrollmentRequest"
                  }
                ]
              },
              "relationships": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/relationshipsInCreateEnrollmentRequest"
                  }
                ]
              }
            },
            "additionalProperties": false
          }
        ],
        "additionalProperties": false
      },
      "dataInCreateStudentRequest": {
        "type": "object",
        "allOf": [
          {
            "$ref": "#/components/schemas/resourceInCreateRequest"
          },
          {
            "type": "object",
            "properties": {
              "lid": {
                "minLength": 1,
                "type": "string"
              },
              "attributes": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/attributesInCreateStudentRequest"
                  }
                ]
              },
              "relationships": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/relationshipsInCreateStudentRequest"
                  }
                ]
              }
            },
            "additionalProperties": false
          }
        ],
        "additionalProperties": false
      },
      "dataInCreateTeacherRequest": {
        "type": "object",
        "allOf": [
          {
            "$ref": "#/components/schemas/resourceInCreateRequest"
          },
          {
            "type": "object",
            "properties": {
              "lid": {
                "minLength": 1,
                "type": "string"
              },
              "attributes": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/attributesInCreateTeacherRequest"
                  }
                ]
              },
              "relationships": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/relationshipsInCreateTeacherRequest"
                  }
                ]
              }
            },
            "additionalProperties": false
          }
        ],
        "additionalProperties": false
      },
      "dataInEnrollmentResponse": {
        "allOf": [
          {
            "$ref": "#/components/schemas/resourceInResponse"
          },
          {
            "required": [
              "id"
            ],
            "type": "object",
            "properties": {
              "id": {
                "minLength": 1,
                "type": "string",
                "format": "int64"
              },
              "attributes": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/attributesInEnrollmentResponse"
                  }
                ]
              },
              "relationships": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/relationshipsInEnrollmentResponse"
                  }
                ]
              },
              "links": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/resourceLinks"
                  }
                ]
              }
            },
            "additionalProperties": false
          }
        ],
        "additionalProperties": false
      },
      "dataInStudentResponse": {
        "allOf": [
          {
            "$ref": "#/components/schemas/resourceInResponse"
          },
          {
            "required": [
              "id"
            ],
            "type": "object",
            "properties": {
              "id": {
                "minLength": 1,
                "type": "string",
                "format": "int64"
              },
              "attributes": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/attributesInStudentResponse"
                  }
                ]
              },
              "relationships": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/relationshipsInStudentResponse"
                  }
                ]
              },
              "links": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/resourceLinks"
                  }
                ]
              }
            },
            "additionalProperties": false
          }
        ],
        "additionalProperties": false
      },
      "dataInTeacherResponse": {
        "allOf": [
          {
            "$ref": "#/components/schemas/resourceInResponse"
          },
          {
            "required": [
              "id"
            ],
            "type": "object",
            "properties": {
              "id": {
                "minLength": 1,
                "type": "string",
                "format": "int64"
              },
              "attributes": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/attributesInTeacherResponse"
                  }
                ]
              },
              "relationships": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/relationshipsInTeacherResponse"
                  }
                ]
              },
              "links": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/resourceLinks"
                  }
                ]
              }
            },
            "additionalProperties": false
          }
        ],
        "additionalProperties": false
      },
      "dataInUpdateCourseRequest": {
        "type": "object",
        "allOf": [
          {
            "$ref": "#/components/schemas/resourceInUpdateRequest"
          },
          {
            "type": "object",
            "properties": {
              "id": {
                "minLength": 1,
                "type": "string",
                "format": "uuid"
              },
              "lid": {
                "minLength": 1,
                "type": "string"
              },
              "attributes": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/attributesInUpdateCourseRequest"
                  }
                ]
              },
              "relationships": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/relationshipsInUpdateCourseRequest"
                  }
                ]
              }
            },
            "additionalProperties": false
          }
        ],
        "additionalProperties": false
      },
      "dataInUpdateEnrollmentRequest": {
        "type": "object",
        "allOf": [
          {
            "$ref": "#/components/schemas/resourceInUpdateRequest"
          },
          {
            "type": "object",
            "properties": {
              "id": {
                "minLength": 1,
                "type": "string",
                "format": "int64"
              },
              "lid": {
                "minLength": 1,
                "type": "string"
              },
              "attributes": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/attributesInUpdateEnrollmentRequest"
                  }
                ]
              },
              "relationships": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/relationshipsInUpdateEnrollmentRequest"
                  }
                ]
              }
            },
            "additionalProperties": false
          }
        ],
        "additionalProperties": false
      },
      "dataInUpdateStudentRequest": {
        "type": "object",
        "allOf": [
          {
            "$ref": "#/components/schemas/resourceInUpdateRequest"
          },
          {
            "type": "object",
            "properties": {
              "id": {
                "minLength": 1,
                "type": "string",
                "format": "int64"
              },
              "lid": {
                "minLength": 1,
                "type": "string"
              },
              "attributes": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/attributesInUpdateStudentRequest"
                  }
                ]
              },
              "relationships": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/relationshipsInUpdateStudentRequest"
                  }
                ]
              }
            },
            "additionalProperties": false
          }
        ],
        "additionalProperties": false
      },
      "dataInUpdateTeacherRequest": {
        "type": "object",
        "allOf": [
          {
            "$ref": "#/components/schemas/resourceInUpdateRequest"
          },
          {
            "type": "object",
            "properties": {
              "id": {
                "minLength": 1,
                "type": "string",
                "format": "int64"
              },
              "lid": {
                "minLength": 1,
                "type": "string"
              },
              "attributes": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/attributesInUpdateTeacherRequest"
                  }
                ]
              },
              "relationships": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/relationshipsInUpdateTeacherRequest"
                  }
                ]
              }
            },
            "additionalProperties": false
          }
        ],
        "additionalProperties": false
      },
      "deleteCourseOperation": {
        "allOf": [
          {
            "$ref": "#/components/schemas/atomicOperation"
          },
          {
            "required": [
              "op",
              "ref"
            ],
            "type": "object",
            "properties": {
              "op": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/removeOperationCode"
                  }
                ]
              },
              "ref": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/courseIdentifierInRequest"
                  }
                ]
              }
            },
            "additionalProperties": false
          }
        ],
        "additionalProperties": false
      },
      "deleteEnrollmentOperation": {
        "allOf": [
          {
            "$ref": "#/components/schemas/atomicOperation"
          },
          {
            "required": [
              "op",
              "ref"
            ],
            "type": "object",
            "properties": {
              "op": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/removeOperationCode"
                  }
                ]
              },
              "ref": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/enrollmentIdentifierInRequest"
                  }
                ]
              }
            },
            "additionalProperties": false
          }
        ],
        "additionalProperties": false
      },
      "deleteTeacherOperation": {
        "allOf": [
          {
            "$ref": "#/components/schemas/atomicOperation"
          },
          {
            "required": [
              "op",
              "ref"
            ],
            "type": "object",
            "properties": {
              "op": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/removeOperationCode"
                  }
                ]
              },
              "ref": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/teacherIdentifierInRequest"
                  }
                ]
              }
            },
            "additionalProperties": false
          }
        ],
        "additionalProperties": false
      },
      "enrollmentCourseRelationshipIdentifier": {
        "required": [
          "relationship",
          "type"
        ],
        "type": "object",
        "properties": {
          "type": {
            "allOf": [
              {
                "$ref": "#/components/schemas/enrollmentResourceType"
              }
            ]
          },
          "id": {
            "minLength": 1,
            "type": "string",
            "format": "int64"
          },
          "lid": {
            "minLength": 1,
            "type": "string"
          },
          "relationship": {
            "allOf": [
              {
                "$ref": "#/components/schemas/enrollmentCourseRelationshipName"
              }
            ]
          }
        },
        "additionalProperties": false
      },
      "enrollmentCourseRelationshipName": {
        "enum": [
          "course"
        ],
        "type": "string"
      },
      "enrollmentIdentifierInRequest": {
        "type": "object",
        "allOf": [
          {
            "$ref": "#/components/schemas/identifierInRequest"
          },
          {
            "type": "object",
            "properties": {
              "id": {
                "minLength": 1,
                "type": "string",
                "format": "int64"
              },
              "lid": {
                "minLength": 1,
                "type": "string"
              }
            },
            "additionalProperties": false
          }
        ],
        "additionalProperties": false
      },
      "enrollmentIdentifierInResponse": {
        "required": [
          "id",
          "type"
        ],
        "type": "object",
        "properties": {
          "type": {
            "allOf": [
              {
                "$ref": "#/components/schemas/enrollmentResourceType"
              }
            ]
          },
          "id": {
            "minLength": 1,
            "type": "string",
            "format": "int64"
          },
          "meta": {
            "allOf": [
              {
                "$ref": "#/components/schemas/meta"
              }
            ]
          }
        },
        "additionalProperties": false
      },
      "enrollmentResourceType": {
        "enum": [
          "enrollments"
        ],
        "type": "string"
      },
      "enrollmentStudentRelationshipIdentifier": {
        "required": [
          "relationship",
          "type"
        ],
        "type": "object",
        "properties": {
          "type": {
            "allOf": [
              {
                "$ref": "#/components/schemas/enrollmentResourceType"
              }
            ]
          },
          "id": {
            "minLength": 1,
            "type": "string",
            "format": "int64"
          },
          "lid": {
            "minLength": 1,
            "type": "string"
          },
          "relationship": {
            "allOf": [
              {
                "$ref": "#/components/schemas/enrollmentStudentRelationshipName"
              }
            ]
          }
        },
        "additionalProperties": false
      },
      "enrollmentStudentRelationshipName": {
        "enum": [
          "student"
        ],
        "type": "string"
      },
      "errorLinks": {
        "type": "object",
        "properties": {
          "about": {
            "type": "string",
            "nullable": true
          },
          "type": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "errorObject": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "nullable": true
          },
          "links": {
            "allOf": [
              {
                "$ref": "#/components/schemas/errorLinks"
              }
            ],
            "nullable": true
          },
          "status": {
            "type": "string"
          },
          "code": {
            "type": "string",
            "nullable": true
          },
          "title": {
            "type": "string",
            "nullable": true
          },
          "detail": {
            "type": "string",
            "nullable": true
          },
          "source": {
            "allOf": [
              {
                "$ref": "#/components/schemas/errorSource"
              }
            ],
            "nullable": true
          },
          "meta": {
            "allOf": [
              {
                "$ref": "#/components/schemas/meta"
              }
            ]
          }
        },
        "additionalProperties": false
      },
      "errorResponseDocument": {
        "required": [
          "errors",
          "links"
        ],
        "type": "object",
        "properties": {
          "jsonapi": {
            "allOf": [
              {
                "$ref": "#/components/schemas/jsonapi"
              }
            ]
          },
          "links": {
            "allOf": [
              {
                "$ref": "#/components/schemas/errorTopLevelLinks"
              }
            ]
          },
          "errors": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/errorObject"
            }
          },
          "meta": {
            "allOf": [
              {
                "$ref": "#/components/schemas/meta"
              }
            ]
          }
        },
        "additionalProperties": false
      },
      "errorSource": {
        "type": "object",
        "properties": {
          "pointer": {
            "type": "string",
            "nullable": true
          },
          "parameter": {
            "type": "string",
            "nullable": true
          },
          "header": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "errorTopLevelLinks": {
        "type": "object",
        "properties": {
          "self": {
            "type": "string"
          },
          "describedby": {
            "type": "string"
          }
        },
        "additionalProperties": false
      },
      "identifierInRequest": {
        "required": [
          "type"
        ],
        "type": "object",
        "properties": {
          "type": {
            "allOf": [
              {
                "$ref": "#/components/schemas/resourceType"
              }
            ]
          },
          "meta": {
            "allOf": [
              {
                "$ref": "#/components/schemas/meta"
              }
            ]
          }
        },
        "additionalProperties": false,
        "discriminator": {
          "propertyName": "type",
          "mapping": {
            "courses": "#/components/schemas/courseIdentifierInRequest",
            "enrollments": "#/components/schemas/enrollmentIdentifierInRequest",
            "students": "#/components/schemas/studentIdentifierInRequest",
            "teachers": "#/components/schemas/teacherIdentifierInRequest"
          }
        },
        "x-abstract": true
      },
      "jsonapi": {
        "type": "object",
        "properties": {
          "version": {
            "type": "string"
          },
          "ext": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "profile": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "meta": {
            "allOf": [
              {
                "$ref": "#/components/schemas/meta"
              }
            ]
          }
        },
        "additionalProperties": false
      },
      "meta": {
        "type": "object",
        "additionalProperties": {
          "nullable": true
        }
      },
      "nullableToOneTeacherInRequest": {
        "required": [
          "data"
        ],
        "type": "object",
        "properties": {
          "data": {
            "allOf": [
              {
                "$ref": "#/components/schemas/teacherIdentifierInRequest"
              }
            ],
            "nullable": true
          },
          "meta": {
            "allOf": [
              {
                "$ref": "#/components/schemas/meta"
              }
            ]
          }
        },
        "additionalProperties": false
      },
      "nullableToOneTeacherInResponse": {
        "type": "object",
        "properties": {
          "links": {
            "allOf": [
              {
                "$ref": "#/components/schemas/relationshipLinks"
              }
            ]
          },
          "data": {
            "allOf": [
              {
                "$ref": "#/components/schemas/teacherIdentifierInResponse"
              }
            ],
            "nullable": true
          },
          "meta": {
            "allOf": [
              {
                "$ref": "#/components/schemas/meta"
              }
            ]
          }
        },
        "additionalProperties": false
      },
      "operationsRequestDocument": {
        "required": [
          "atomic:operations"
        ],
        "type": "object",
        "properties": {
          "atomic:operations": {
            "minItems": 1,
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/atomicOperation"
            }
          },
          "meta": {
            "allOf": [
              {
                "$ref": "#/components/schemas/meta"
              }
            ]
          }
        },
        "additionalProperties": false
      },
      "operationsResponseDocument": {
        "required": [
          "atomic:results",
          "links"
        ],
        "type": "object",
        "properties": {
          "jsonapi": {
            "allOf": [
              {
                "$ref": "#/components/schemas/jsonapi"
              }
            ]
          },
          "links": {
            "allOf": [
              {
                "$ref": "#/components/schemas/resourceTopLevelLinks"
              }
            ]
          },
          "atomic:results": {
            "minItems": 1,
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/atomicResult"
            }
          },
          "meta": {
            "allOf": [
              {
                "$ref": "#/components/schemas/meta"
              }
            ]
          }
        },
        "additionalProperties": false
      },
      "relationshipLinks": {
        "type": "object",
        "properties": {
          "self": {
            "type": "string"
          },
          "related": {
            "type": "string"
          }
        },
        "additionalProperties": false
      },
      "relationshipsInCourseResponse": {
        "allOf": [
          {
            "$ref": "#/components/schemas/relationshipsInResponse"
          },
          {
            "type": "object",
            "properties": {
              "taughtBy": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/toManyTeacherInResponse"
                  }
                ]
              },
              "enrollments": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/toManyEnrollmentInResponse"
                  }
                ]
              }
            },
            "additionalProperties": false
          }
        ],
        "additionalProperties": false
      },
      "relationshipsInCreateCourseRequest": {
        "allOf": [
          {
            "$ref": "#/components/schemas/relationshipsInCreateRequest"
          },
          {
            "type": "object",
            "properties": {
              "taughtBy": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/toManyTeacherInRequest"
                  }
                ]
              },
              "enrollments": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/toManyEnrollmentInRequest"
                  }
                ]
              }
            },
            "additionalProperties": false
          }
        ],
        "additionalProperties": false
      },
      "relationshipsInCreateEnrollmentRequest": {
        "allOf": [
          {
            "$ref": "#/components/schemas/relationshipsInCreateRequest"
          },
          {
            "required": [
              "course",
              "student"
            ],
            "type": "object",
            "properties": {
              "student": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/toOneStudentInRequest"
                  }
                ]
              },
              "course": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/toOneCourseInRequest"
                  }
                ]
              }
            },
            "additionalProperties": false
          }
        ],
        "additionalProperties": false
      },
      "relationshipsInCreateRequest": {
        "required": [
          "openapi:discriminator"
        ],
        "type": "object",
        "properties": {
          "openapi:discriminator": {
            "allOf": [
              {
                "$ref": "#/components/schemas/resourceType"
              }
            ]
          }
        },
        "additionalProperties": false,
        "discriminator": {
          "propertyName": "openapi:discriminator",
          "mapping": {
            "courses": "#/components/schemas/relationshipsInCreateCourseRequest",
            "enrollments": "#/components/schemas/relationshipsInCreateEnrollmentRequest",
            "students": "#/components/schemas/relationshipsInCreateStudentRequest",
            "teachers": "#/components/schemas/relationshipsInCreateTeacherRequest"
          }
        },
        "x-abstract": true
      },
      "relationshipsInCreateStudentRequest": {
        "allOf": [
          {
            "$ref": "#/components/schemas/relationshipsInCreateRequest"
          },
          {
            "type": "object",
            "properties": {
              "mentor": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/nullableToOneTeacherInRequest"
                  }
                ]
              },
              "enrollments": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/toManyEnrollmentInRequest"
                  }
                ]
              }
            },
            "additionalProperties": false
          }
        ],
        "additionalProperties": false
      },
      "relationshipsInCreateTeacherRequest": {
        "allOf": [
          {
            "$ref": "#/components/schemas/relationshipsInCreateRequest"
          },
          {
            "type": "object",
            "properties": {
              "teaches": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/toManyCourseInRequest"
                  }
                ]
              },
              "mentors": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/toManyStudentInRequest"
                  }
                ]
              }
            },
            "additionalProperties": false
          }
        ],
        "additionalProperties": false
      },
      "relationshipsInEnrollmentResponse": {
        "allOf": [
          {
            "$ref": "#/components/schemas/relationshipsInResponse"
          },
          {
            "type": "object",
            "properties": {
              "student": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/toOneStudentInResponse"
                  }
                ]
              },
              "course": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/toOneCourseInResponse"
                  }
                ]
              }
            },
            "additionalProperties": false
          }
        ],
        "additionalProperties": false
      },
      "relationshipsInResponse": {
        "required": [
          "openapi:discriminator"
        ],
        "type": "object",
        "properties": {
          "openapi:discriminator": {
            "allOf": [
              {
                "$ref": "#/components/schemas/resourceType"
              }
            ]
          }
        },
        "additionalProperties": false,
        "discriminator": {
          "propertyName": "openapi:discriminator",
          "mapping": {
            "courses": "#/components/schemas/relationshipsInCourseResponse",
            "enrollments": "#/components/schemas/relationshipsInEnrollmentResponse",
            "students": "#/components/schemas/relationshipsInStudentResponse",
            "teachers": "#/components/schemas/relationshipsInTeacherResponse"
          }
        },
        "x-abstract": true
      },
      "relationshipsInStudentResponse": {
        "allOf": [
          {
            "$ref": "#/components/schemas/relationshipsInResponse"
          },
          {
            "type": "object",
            "properties": {
              "mentor": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/nullableToOneTeacherInResponse"
                  }
                ]
              },
              "enrollments": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/toManyEnrollmentInResponse"
                  }
                ]
              }
            },
            "additionalProperties": false
          }
        ],
        "additionalProperties": false
      },
      "relationshipsInTeacherResponse": {
        "allOf": [
          {
            "$ref": "#/components/schemas/relationshipsInResponse"
          },
          {
            "type": "object",
            "properties": {
              "teaches": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/toManyCourseInResponse"
                  }
                ]
              },
              "mentors": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/toManyStudentInResponse"
                  }
                ]
              }
            },
            "additionalProperties": false
          }
        ],
        "additionalProperties": false
      },
      "relationshipsInUpdateCourseRequest": {
        "allOf": [
          {
            "$ref": "#/components/schemas/relationshipsInUpdateRequest"
          },
          {
            "type": "object",
            "properties": {
              "taughtBy": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/toManyTeacherInRequest"
                  }
                ]
              },
              "enrollments": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/toManyEnrollmentInRequest"
                  }
                ]
              }
            },
            "additionalProperties": false
          }
        ],
        "additionalProperties": false
      },
      "relationshipsInUpdateEnrollmentRequest": {
        "allOf": [
          {
            "$ref": "#/components/schemas/relationshipsInUpdateRequest"
          },
          {
            "type": "object",
            "properties": {
              "student": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/toOneStudentInRequest"
                  }
                ]
              },
              "course": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/toOneCourseInRequest"
                  }
                ]
              }
            },
            "additionalProperties": false
          }
        ],
        "additionalProperties": false
      },
      "relationshipsInUpdateRequest": {
        "required": [
          "openapi:discriminator"
        ],
        "type": "object",
        "properties": {
          "openapi:discriminator": {
            "allOf": [
              {
                "$ref": "#/components/schemas/resourceType"
              }
            ]
          }
        },
        "additionalProperties": false,
        "discriminator": {
          "propertyName": "openapi:discriminator",
          "mapping": {
            "courses": "#/components/schemas/relationshipsInUpdateCourseRequest",
            "enrollments": "#/components/schemas/relationshipsInUpdateEnrollmentRequest",
            "students": "#/components/schemas/relationshipsInUpdateStudentRequest",
            "teachers": "#/components/schemas/relationshipsInUpdateTeacherRequest"
          }
        },
        "x-abstract": true
      },
      "relationshipsInUpdateStudentRequest": {
        "allOf": [
          {
            "$ref": "#/components/schemas/relationshipsInUpdateRequest"
          },
          {
            "type": "object",
            "properties": {
              "mentor": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/nullableToOneTeacherInRequest"
                  }
                ]
              },
              "enrollments": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/toManyEnrollmentInRequest"
                  }
                ]
              }
            },
            "additionalProperties": false
          }
        ],
        "additionalProperties": false
      },
      "relationshipsInUpdateTeacherRequest": {
        "allOf": [
          {
            "$ref": "#/components/schemas/relationshipsInUpdateRequest"
          },
          {
            "type": "object",
            "properties": {
              "teaches": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/toManyCourseInRequest"
                  }
                ]
              },
              "mentors": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/toManyStudentInRequest"
                  }
                ]
              }
            },
            "additionalProperties": false
          }
        ],
        "additionalProperties": false
      },
      "removeFromStudentEnrollmentsRelationshipOperation": {
        "allOf": [
          {
            "$ref": "#/components/schemas/atomicOperation"
          },
          {
            "required": [
              "data",
              "op",
              "ref"
            ],
            "type": "object",
            "properties": {
              "op": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/removeOperationCode"
                  }
                ]
              },
              "ref": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/studentEnrollmentsRelationshipIdentifier"
                  }
                ]
              },
              "data": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/enrollmentIdentifierInRequest"
                }
              }
            },
            "additionalProperties": false
          }
        ],
        "additionalProperties": false
      },
      "removeFromTeacherMentorsRelationshipOperation": {
        "allOf": [
          {
            "$ref": "#/components/schemas/atomicOperation"
          },
          {
            "required": [
              "data",
              "op",
              "ref"
            ],
            "type": "object",
            "properties": {
              "op": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/removeOperationCode"
                  }
                ]
              },
              "ref": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/teacherMentorsRelationshipIdentifier"
                  }
                ]
              },
              "data": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/studentIdentifierInRequest"
                }
              }
            },
            "additionalProperties": false
          }
        ],
        "additionalProperties": false
      },
      "removeFromTeacherTeachesRelationshipOperation": {
        "allOf": [
          {
            "$ref": "#/components/schemas/atomicOperation"
          },
          {
            "required": [
              "data",
              "op",
              "ref"
            ],
            "type": "object",
            "properties": {
              "op": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/removeOperationCode"
                  }
                ]
              },
              "ref": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/teacherTeachesRelationshipIdentifier"
                  }
                ]
              },
              "data": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/courseIdentifierInRequest"
                }
              }
            },
            "additionalProperties": false
          }
        ],
        "additionalProperties": false
      },
      "removeOperationCode": {
        "enum": [
          "remove"
        ],
        "type": "string"
      },
      "resourceInCreateRequest": {
        "required": [
          "type"
        ],
        "type": "object",
        "properties": {
          "type": {
            "allOf": [
              {
                "$ref": "#/components/schemas/resourceType"
              }
            ]
          },
          "meta": {
            "allOf": [
              {
                "$ref": "#/components/schemas/meta"
              }
            ]
          }
        },
        "additionalProperties": false,
        "discriminator": {
          "propertyName": "type",
          "mapping": {
            "courses": "#/components/schemas/dataInCreateCourseRequest",
            "enrollments": "#/components/schemas/dataInCreateEnrollmentRequest",
            "students": "#/components/schemas/dataInCreateStudentRequest",
            "teachers": "#/components/schemas/dataInCreateTeacherRequest"
          }
        },
        "x-abstract": true
      },
      "resourceInResponse": {
        "required": [
          "type"
        ],
        "type": "object",
        "properties": {
          "type": {
            "allOf": [
              {
                "$ref": "#/components/schemas/resourceType"
              }
            ]
          },
          "meta": {
            "allOf": [
              {
                "$ref": "#/components/schemas/meta"
              }
            ]
          }
        },
        "additionalProperties": false,
        "discriminator": {
          "propertyName": "type",
          "mapping": {
            "courses": "#/components/schemas/dataInCourseResponse",
            "enrollments": "#/components/schemas/dataInEnrollmentResponse",
            "students": "#/components/schemas/dataInStudentResponse",
            "teachers": "#/components/schemas/dataInTeacherResponse"
          }
        },
        "x-abstract": true
      },
      "resourceInUpdateRequest": {
        "required": [
          "type"
        ],
        "type": "object",
        "properties": {
          "type": {
            "allOf": [
              {
                "$ref": "#/components/schemas/resourceType"
              }
            ]
          },
          "meta": {
            "allOf": [
              {
                "$ref": "#/components/schemas/meta"
              }
            ]
          }
        },
        "additionalProperties": false,
        "discriminator": {
          "propertyName": "type",
          "mapping": {
            "courses": "#/components/schemas/dataInUpdateCourseRequest",
            "enrollments": "#/components/schemas/dataInUpdateEnrollmentRequest",
            "students": "#/components/schemas/dataInUpdateStudentRequest",
            "teachers": "#/components/schemas/dataInUpdateTeacherRequest"
          }
        },
        "x-abstract": true
      },
      "resourceLinks": {
        "type": "object",
        "properties": {
          "self": {
            "type": "string"
          }
        },
        "additionalProperties": false
      },
      "resourceTopLevelLinks": {
        "type": "object",
        "properties": {
          "self": {
            "type": "string"
          },
          "describedby": {
            "type": "string"
          }
        },
        "additionalProperties": false
      },
      "resourceType": {
        "enum": [
          "courses",
          "enrollments",
          "students",
          "teachers"
        ],
        "type": "string"
      },
      "studentEnrollmentsRelationshipIdentifier": {
        "required": [
          "relationship",
          "type"
        ],
        "type": "object",
        "properties": {
          "type": {
            "allOf": [
              {
                "$ref": "#/components/schemas/studentResourceType"
              }
            ]
          },
          "id": {
            "minLength": 1,
            "type": "string",
            "format": "int64"
          },
          "lid": {
            "minLength": 1,
            "type": "string"
          },
          "relationship": {
            "allOf": [
              {
                "$ref": "#/components/schemas/studentEnrollmentsRelationshipName"
              }
            ]
          }
        },
        "additionalProperties": false
      },
      "studentEnrollmentsRelationshipName": {
        "enum": [
          "enrollments"
        ],
        "type": "string"
      },
      "studentIdentifierInRequest": {
        "type": "object",
        "allOf": [
          {
            "$ref": "#/components/schemas/identifierInRequest"
          },
          {
            "type": "object",
            "properties": {
              "id": {
                "minLength": 1,
                "type": "string",
                "format": "int64"
              },
              "lid": {
                "minLength": 1,
                "type": "string"
              }
            },
            "additionalProperties": false
          }
        ],
        "additionalProperties": false
      },
      "studentIdentifierInResponse": {
        "required": [
          "id",
          "type"
        ],
        "type": "object",
        "properties": {
          "type": {
            "allOf": [
              {
                "$ref": "#/components/schemas/studentResourceType"
              }
            ]
          },
          "id": {
            "minLength": 1,
            "type": "string",
            "format": "int64"
          },
          "meta": {
            "allOf": [
              {
                "$ref": "#/components/schemas/meta"
              }
            ]
          }
        },
        "additionalProperties": false
      },
      "studentMentorRelationshipIdentifier": {
        "required": [
          "relationship",
          "type"
        ],
        "type": "object",
        "properties": {
          "type": {
            "allOf": [
              {
                "$ref": "#/components/schemas/studentResourceType"
              }
            ]
          },
          "id": {
            "minLength": 1,
            "type": "string",
            "format": "int64"
          },
          "lid": {
            "minLength": 1,
            "type": "string"
          },
          "relationship": {
            "allOf": [
              {
                "$ref": "#/components/schemas/studentMentorRelationshipName"
              }
            ]
          }
        },
        "additionalProperties": false
      },
      "studentMentorRelationshipName": {
        "enum": [
          "mentor"
        ],
        "type": "string"
      },
      "studentResourceType": {
        "enum": [
          "students"
        ],
        "type": "string"
      },
      "teacherIdentifierInRequest": {
        "type": "object",
        "allOf": [
          {
            "$ref": "#/components/schemas/identifierInRequest"
          },
          {
            "type": "object",
            "properties": {
              "id": {
                "minLength": 1,
                "type": "string",
                "format": "int64"
              },
              "lid": {
                "minLength": 1,
                "type": "string"
              }
            },
            "additionalProperties": false
          }
        ],
        "additionalProperties": false
      },
      "teacherIdentifierInResponse": {
        "required": [
          "id",
          "type"
        ],
        "type": "object",
        "properties": {
          "type": {
            "allOf": [
              {
                "$ref": "#/components/schemas/teacherResourceType"
              }
            ]
          },
          "id": {
            "minLength": 1,
            "type": "string",
            "format": "int64"
          },
          "meta": {
            "allOf": [
              {
                "$ref": "#/components/schemas/meta"
              }
            ]
          }
        },
        "additionalProperties": false
      },
      "teacherMentorsRelationshipIdentifier": {
        "required": [
          "relationship",
          "type"
        ],
        "type": "object",
        "properties": {
          "type": {
            "allOf": [
              {
                "$ref": "#/components/schemas/teacherResourceType"
              }
            ]
          },
          "id": {
            "minLength": 1,
            "type": "string",
            "format": "int64"
          },
          "lid": {
            "minLength": 1,
            "type": "string"
          },
          "relationship": {
            "allOf": [
              {
                "$ref": "#/components/schemas/teacherMentorsRelationshipName"
              }
            ]
          }
        },
        "additionalProperties": false
      },
      "teacherMentorsRelationshipName": {
        "enum": [
          "mentors"
        ],
        "type": "string"
      },
      "teacherResourceType": {
        "enum": [
          "teachers"
        ],
        "type": "string"
      },
      "teacherTeachesRelationshipIdentifier": {
        "required": [
          "relationship",
          "type"
        ],
        "type": "object",
        "properties": {
          "type": {
            "allOf": [
              {
                "$ref": "#/components/schemas/teacherResourceType"
              }
            ]
          },
          "id": {
            "minLength": 1,
            "type": "string",
            "format": "int64"
          },
          "lid": {
            "minLength": 1,
            "type": "string"
          },
          "relationship": {
            "allOf": [
              {
                "$ref": "#/components/schemas/teacherTeachesRelationshipName"
              }
            ]
          }
        },
        "additionalProperties": false
      },
      "teacherTeachesRelationshipName": {
        "enum": [
          "teaches"
        ],
        "type": "string"
      },
      "toManyCourseInRequest": {
        "required": [
          "data"
        ],
        "type": "object",
        "properties": {
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/courseIdentifierInRequest"
            }
          },
          "meta": {
            "allOf": [
              {
                "$ref": "#/components/schemas/meta"
              }
            ]
          }
        },
        "additionalProperties": false
      },
      "toManyCourseInResponse": {
        "type": "object",
        "properties": {
          "links": {
            "allOf": [
              {
                "$ref": "#/components/schemas/relationshipLinks"
              }
            ]
          },
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/courseIdentifierInResponse"
            }
          },
          "meta": {
            "allOf": [
              {
                "$ref": "#/components/schemas/meta"
              }
            ]
          }
        },
        "additionalProperties": false
      },
      "toManyEnrollmentInRequest": {
        "required": [
          "data"
        ],
        "type": "object",
        "properties": {
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/enrollmentIdentifierInRequest"
            }
          },
          "meta": {
            "allOf": [
              {
                "$ref": "#/components/schemas/meta"
              }
            ]
          }
        },
        "additionalProperties": false
      },
      "toManyEnrollmentInResponse": {
        "type": "object",
        "properties": {
          "links": {
            "allOf": [
              {
                "$ref": "#/components/schemas/relationshipLinks"
              }
            ]
          },
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/enrollmentIdentifierInResponse"
            }
          },
          "meta": {
            "allOf": [
              {
                "$ref": "#/components/schemas/meta"
              }
            ]
          }
        },
        "additionalProperties": false
      },
      "toManyStudentInRequest": {
        "required": [
          "data"
        ],
        "type": "object",
        "properties": {
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/studentIdentifierInRequest"
            }
          },
          "meta": {
            "allOf": [
              {
                "$ref": "#/components/schemas/meta"
              }
            ]
          }
        },
        "additionalProperties": false
      },
      "toManyStudentInResponse": {
        "type": "object",
        "properties": {
          "links": {
            "allOf": [
              {
                "$ref": "#/components/schemas/relationshipLinks"
              }
            ]
          },
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/studentIdentifierInResponse"
            }
          },
          "meta": {
            "allOf": [
              {
                "$ref": "#/components/schemas/meta"
              }
            ]
          }
        },
        "additionalProperties": false
      },
      "toManyTeacherInRequest": {
        "required": [
          "data"
        ],
        "type": "object",
        "properties": {
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/teacherIdentifierInRequest"
            }
          },
          "meta": {
            "allOf": [
              {
                "$ref": "#/components/schemas/meta"
              }
            ]
          }
        },
        "additionalProperties": false
      },
      "toManyTeacherInResponse": {
        "type": "object",
        "properties": {
          "links": {
            "allOf": [
              {
                "$ref": "#/components/schemas/relationshipLinks"
              }
            ]
          },
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/teacherIdentifierInResponse"
            }
          },
          "meta": {
            "allOf": [
              {
                "$ref": "#/components/schemas/meta"
              }
            ]
          }
        },
        "additionalProperties": false
      },
      "toOneCourseInRequest": {
        "required": [
          "data"
        ],
        "type": "object",
        "properties": {
          "data": {
            "allOf": [
              {
                "$ref": "#/components/schemas/courseIdentifierInRequest"
              }
            ]
          },
          "meta": {
            "allOf": [
              {
                "$ref": "#/components/schemas/meta"
              }
            ]
          }
        },
        "additionalProperties": false
      },
      "toOneCourseInResponse": {
        "type": "object",
        "properties": {
          "links": {
            "allOf": [
              {
                "$ref": "#/components/schemas/relationshipLinks"
              }
            ]
          },
          "data": {
            "allOf": [
              {
                "$ref": "#/components/schemas/courseIdentifierInResponse"
              }
            ]
          },
          "meta": {
            "allOf": [
              {
                "$ref": "#/components/schemas/meta"
              }
            ]
          }
        },
        "additionalProperties": false
      },
      "toOneStudentInRequest": {
        "required": [
          "data"
        ],
        "type": "object",
        "properties": {
          "data": {
            "allOf": [
              {
                "$ref": "#/components/schemas/studentIdentifierInRequest"
              }
            ]
          },
          "meta": {
            "allOf": [
              {
                "$ref": "#/components/schemas/meta"
              }
            ]
          }
        },
        "additionalProperties": false
      },
      "toOneStudentInResponse": {
        "type": "object",
        "properties": {
          "links": {
            "allOf": [
              {
                "$ref": "#/components/schemas/relationshipLinks"
              }
            ]
          },
          "data": {
            "allOf": [
              {
                "$ref": "#/components/schemas/studentIdentifierInResponse"
              }
            ]
          },
          "meta": {
            "allOf": [
              {
                "$ref": "#/components/schemas/meta"
              }
            ]
          }
        },
        "additionalProperties": false
      },
      "updateCourseEnrollmentsRelationshipOperation": {
        "allOf": [
          {
            "$ref": "#/components/schemas/atomicOperation"
          },
          {
            "required": [
              "data",
              "op",
              "ref"
            ],
            "type": "object",
            "properties": {
              "op": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/updateOperationCode"
                  }
                ]
              },
              "ref": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/courseEnrollmentsRelationshipIdentifier"
                  }
                ]
              },
              "data": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/enrollmentIdentifierInRequest"
                }
              }
            },
            "additionalProperties": false
          }
        ],
        "additionalProperties": false
      },
      "updateCourseOperation": {
        "allOf": [
          {
            "$ref": "#/components/schemas/atomicOperation"
          },
          {
            "required": [
              "data",
              "op"
            ],
            "type": "object",
            "properties": {
              "op": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/updateOperationCode"
                  }
                ]
              },
              "ref": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/courseIdentifierInRequest"
                  }
                ]
              },
              "data": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/dataInUpdateCourseRequest"
                  }
                ]
              }
            },
            "additionalProperties": false
          }
        ],
        "additionalProperties": false
      },
      "updateEnrollmentCourseRelationshipOperation": {
        "allOf": [
          {
            "$ref": "#/components/schemas/atomicOperation"
          },
          {
            "required": [
              "data",
              "op",
              "ref"
            ],
            "type": "object",
            "properties": {
              "op": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/updateOperationCode"
                  }
                ]
              },
              "ref": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/enrollmentCourseRelationshipIdentifier"
                  }
                ]
              },
              "data": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/courseIdentifierInRequest"
                  }
                ]
              }
            },
            "additionalProperties": false
          }
        ],
        "additionalProperties": false
      },
      "updateEnrollmentOperation": {
        "allOf": [
          {
            "$ref": "#/components/schemas/atomicOperation"
          },
          {
            "required": [
              "data",
              "op"
            ],
            "type": "object",
            "properties": {
              "op": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/updateOperationCode"
                  }
                ]
              },
              "ref": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/enrollmentIdentifierInRequest"
                  }
                ]
              },
              "data": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/dataInUpdateEnrollmentRequest"
                  }
                ]
              }
            },
            "additionalProperties": false
          }
        ],
        "additionalProperties": false
      },
      "updateEnrollmentStudentRelationshipOperation": {
        "allOf": [
          {
            "$ref": "#/components/schemas/atomicOperation"
          },
          {
            "required": [
              "data",
              "op",
              "ref"
            ],
            "type": "object",
            "properties": {
              "op": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/updateOperationCode"
                  }
                ]
              },
              "ref": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/enrollmentStudentRelationshipIdentifier"
                  }
                ]
              },
              "data": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/studentIdentifierInRequest"
                  }
                ]
              }
            },
            "additionalProperties": false
          }
        ],
        "additionalProperties": false
      },
      "updateOperationCode": {
        "enum": [
          "update"
        ],
        "type": "string"
      },
      "updateStudentEnrollmentsRelationshipOperation": {
        "allOf": [
          {
            "$ref": "#/components/schemas/atomicOperation"
          },
          {
            "required": [
              "data",
              "op",
              "ref"
            ],
            "type": "object",
            "properties": {
              "op": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/updateOperationCode"
                  }
                ]
              },
              "ref": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/studentEnrollmentsRelationshipIdentifier"
                  }
                ]
              },
              "data": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/enrollmentIdentifierInRequest"
                }
              }
            },
            "additionalProperties": false
          }
        ],
        "additionalProperties": false
      },
      "updateStudentMentorRelationshipOperation": {
        "allOf": [
          {
            "$ref": "#/components/schemas/atomicOperation"
          },
          {
            "required": [
              "data",
              "op",
              "ref"
            ],
            "type": "object",
            "properties": {
              "op": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/updateOperationCode"
                  }
                ]
              },
              "ref": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/studentMentorRelationshipIdentifier"
                  }
                ]
              },
              "data": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/teacherIdentifierInRequest"
                  }
                ],
                "nullable": true
              }
            },
            "additionalProperties": false
          }
        ],
        "additionalProperties": false
      },
      "updateStudentOperation": {
        "allOf": [
          {
            "$ref": "#/components/schemas/atomicOperation"
          },
          {
            "required": [
              "data",
              "op"
            ],
            "type": "object",
            "properties": {
              "op": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/updateOperationCode"
                  }
                ]
              },
              "ref": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/studentIdentifierInRequest"
                  }
                ]
              },
              "data": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/dataInUpdateStudentRequest"
                  }
                ]
              }
            },
            "additionalProperties": false
          }
        ],
        "additionalProperties": false
      },
      "updateTeacherMentorsRelationshipOperation": {
        "allOf": [
          {
            "$ref": "#/components/schemas/atomicOperation"
          },
          {
            "required": [
              "data",
              "op",
              "ref"
            ],
            "type": "object",
            "properties": {
              "op": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/updateOperationCode"
                  }
                ]
              },
              "ref": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/teacherMentorsRelationshipIdentifier"
                  }
                ]
              },
              "data": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/studentIdentifierInRequest"
                }
              }
            },
            "additionalProperties": false
          }
        ],
        "additionalProperties": false
      },
      "updateTeacherOperation": {
        "allOf": [
          {
            "$ref": "#/components/schemas/atomicOperation"
          },
          {
            "required": [
              "data",
              "op"
            ],
            "type": "object",
            "properties": {
              "op": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/updateOperationCode"
                  }
                ]
              },
              "ref": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/teacherIdentifierInRequest"
                  }
                ]
              },
              "data": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/dataInUpdateTeacherRequest"
                  }
                ]
              }
            },
            "additionalProperties": false
          }
        ],
        "additionalProperties": false
      },
      "updateTeacherTeachesRelationshipOperation": {
        "allOf": [
          {
            "$ref": "#/components/schemas/atomicOperation"
          },
          {
            "required": [
              "data",
              "op",
              "ref"
            ],
            "type": "object",
            "properties": {
              "op": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/updateOperationCode"
                  }
                ]
              },
              "ref": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/teacherTeachesRelationshipIdentifier"
                  }
                ]
              },
              "data": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/courseIdentifierInRequest"
                }
              }
            },
            "additionalProperties": false
          }
        ],
        "additionalProperties": false
      }
    }
  }
}